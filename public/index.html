<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app">

  </div>
  <script type="text/javascript" src="../dist/vue-bundle.js"></script>
  <!-- vue2 中 模版编译 可以选择性的添加 runtimeOnly 只在运行时使用 （无法解析用户传递的template属性）runtime with compiler (可以实现模版编译的) -->
  <script type="text/javascript">
    const vm = new Vue({
      el: '#app',
      // 数据会被进行观测，响应式数据变化，对数据操作可以更新视图
      // 原理： 对对象的所有属性 使用defineProperty进行重新定义 get 和 set
      data() {
        return {
          msg: 'rdlei',
          age: '',
          a: {
            msg: 'msg_a',
          },
          arr: [1, 2, 3, {a: 1}],
        }
      },
      // js语法也可以使用ast 语法树来描述
      // 1.实现一个解析器 可以解析html模版 =》ast语法书 可以用一个树结构来描述当前标签内容
      // 2.虚拟节点是描述dom的 是使用对象来描述html的 ast语法树描述语法的

      // let a = 1;

      // {
      //   kind: 'let',
      //   variable: 'a',
      //   value: 1,
      // }

      // 将html本身变成js语法 render函数

      // 如何将模版变成 render函数 =》返回的是虚拟节点
      template: `<div id="app" class='a' style="color:red"><span>helloWorld {{msg}} aa </span></div>`
      // render() { // vue 虚拟dom（跨平台）
      //   with(vm._data) {
      //     return _c('div', {class: 'a'}, _c('span', null, 123), _v('hello')+_v(msg)+_v(age))
      //   }
      // }
    })

    // console.log(vm.msg);
    vm._data.arr.push({a: 2});
  </script>
</body>
</html>
